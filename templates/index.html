<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>LD Detector</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Added dyslexia-friendly font configuration -->
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              dyslexic: ["OpenDyslexic", "Arial", "sans-serif"],
            },
          },
        },
      };
    </script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <!-- Enhanced body with better background and typography -->
  <body
    class="font-sans bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 text-gray-900 dark:text-white transition-all duration-300 min-h-screen"
  >
    {% if session.get('user_name') %}
    <!-- Floating Navbar for Logged-in Users -->
    <nav
      class="fixed top-0 left-0 right-0 z-50 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700 shadow-lg"
    >
      <div class="max-w-6xl mx-auto px-6 py-4">
        <div class="flex justify-between items-center">
          <div class="flex items-center space-x-6">
            <h1
              class="text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400"
            >
              LD Detector
            </h1>
            <div class="hidden md:flex space-x-4">
              <a
                href="{{ url_for('index') }}"
                class="px-4 py-2 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-medium"
              >
                üè† Home
              </a>
              <a
                href="{{ url_for('student_dashboard') }}"
                class="px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-medium"
              >
                üìä Dashboard
              </a>
            </div>
          </div>
          <div class="flex items-center space-x-4">
            <span class="text-sm text-gray-600 dark:text-gray-400"
              >Welcome, {{ session['user_name'] }}!</span
            >
            <a
              href="{{ url_for('logout') }}"
              class="px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors font-medium"
            >
              üö™ Logout
            </a>
          </div>
        </div>
      </div>
    </nav>
    {% endif %}

    <div
      class="max-w-6xl mx-auto p-6 space-y-8{% if session.get('user_name') %} pt-24{% endif %}"
    >
      <!-- Modernized header with theme toggle -->
      <header
        class="flex justify-between items-center bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6"
      >
        <div>
          <h1
            class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400"
          >
            Intelligent LD Detection
          </h1>
          <p class="text-gray-600 dark:text-gray-300 mt-2 leading-relaxed">
            Advanced screening for learning difficulties
          </p>
        </div>
        <button
          onclick="toggleTheme()"
          class="px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl transition-all duration-300 focus:ring-4 focus:ring-blue-500/20"
          aria-label="Toggle theme"
        >
          <span class="text-xl">üåó</span>
        </button>
      </header>

      <!-- Enhanced user authentication section -->
      {% if session.get('user_name') %}
      <div
        class="bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-2xl p-6"
      >
        <div class="flex justify-between items-center">
          <div class="flex items-center gap-3">
            <div
              class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center"
            >
              <span class="text-white font-semibold"
                >{{ session['user_name'][0].upper() }}</span
              >
            </div>
            <div>
              <span class="font-semibold text-green-800 dark:text-green-200"
                >Welcome back, {{ session['user_name'] }}!</span
              >
              <p class="text-sm text-green-600 dark:text-green-300">
                Ready to continue your assessment
              </p>
            </div>
          </div>
          <a
            href="{{ url_for('logout') }}"
            class="px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl transition-all duration-300 focus:ring-4 focus:ring-red-500/20 font-medium"
          >
            ‚úï Logout
          </a>
        </div>
      </div>
      {% else %}
      <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6">
        <div class="text-center space-y-4">
          <h2 class="text-xl font-semibold">Get Started Today</h2>
          <p class="text-gray-600 dark:text-gray-300 leading-relaxed">
            Create an account or sign in to access our comprehensive learning
            difficulty screening tools.
          </p>
          <div class="flex gap-4 justify-center">
            <a
              href="{{ url_for('login') }}"
              class="px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-300 focus:ring-4 focus:ring-blue-500/20 font-medium"
            >
              üîë Login
            </a>
            <a
              href="{{ url_for('signup') }}"
              class="px-8 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 focus:ring-4 focus:ring-green-500/20 font-medium"
            >
              ‚ú® Sign Up
            </a>
          </div>
        </div>
      </div>
      {% endif %}

      <!-- Enhanced description section -->
      <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8">
        <div class="max-w-4xl mx-auto text-center space-y-6">
          <h2 class="text-2xl font-bold">
            Professional Learning Difficulty Screening
          </h2>
          <p class="text-lg text-gray-600 dark:text-gray-300 leading-relaxed">
            Our platform provides evidence-based screening tools for dyslexia,
            dyscalculia, and memory difficulties. These assessments help
            identify potential learning challenges early and guide appropriate
            support strategies.
          </p>
          <div
            class="bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl p-4"
          >
            <p class="text-amber-800 dark:text-amber-200 font-medium">
              ‚ö†Ô∏è Important: These are screening tools, not diagnostic tests.
              Professional evaluation is recommended for definitive diagnosis.
            </p>
          </div>
        </div>
      </div>

      <!-- Modernized test cards grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <a
          href="/test/comprehension"
          class="group bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-gray-100 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600"
        >
          <div class="text-center space-y-4">
            <div
              class="w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mx-auto group-hover:scale-110 transition-transform duration-300"
            >
              <span class="text-3xl">üìö</span>
            </div>
            <div>
              <h3 class="font-bold text-lg text-gray-900 dark:text-white">
                Comprehensive
              </h3>
              <p
                class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed"
              >
                Comprehensive learning difficulty screening
              </p>
            </div>
          </div>
        </a>

        <a
          href="/test/phonetics"
          class="group bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-gray-100 dark:border-gray-700 hover:border-green-300 dark:hover:border-green-600"
        >
          <div class="text-center space-y-4">
            <div
              class="w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center mx-auto group-hover:scale-110 transition-transform duration-300"
            >
              <span class="text-3xl">üó£Ô∏è</span>
            </div>
            <div>
              <h3 class="font-bold text-lg text-gray-900 dark:text-white">
                Phonetics
              </h3>
              <p
                class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed"
              >
                Phonetic awareness and language processing
              </p>
            </div>
          </div>
        </a>

        <a
          href="/test/memory"
          class="group bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-gray-100 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-600"
        >
          <div class="text-center space-y-4">
            <div
              class="w-16 h-16 bg-purple-100 dark:bg-purple-900/30 rounded-2xl flex items-center justify-center mx-auto group-hover:scale-110 transition-transform duration-300"
            >
              <span class="text-3xl">üñºÔ∏è</span>
            </div>
            <div>
              <h3 class="font-bold text-lg text-gray-900 dark:text-white">
                Memory Test
              </h3>
              <p
                class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed"
              >
                Visual memory and recall assessment
              </p>
            </div>
          </div>
        </a>

        <a
          href="/assessments"
          class="group bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-gray-100 dark:border-gray-700 hover:border-orange-300 dark:hover:border-orange-600"
        >
          <div class="text-center space-y-4">
            <div
              class="w-16 h-16 bg-orange-100 dark:bg-orange-900/30 rounded-2xl flex items-center justify-center mx-auto group-hover:scale-110 transition-transform duration-300"
            >
              <span class="text-3xl">üìã</span>
            </div>
            <div>
              <h3 class="font-bold text-lg text-gray-900 dark:text-white">
                Assessments
              </h3>
              <p
                class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed"
              >
                Access all available tests
              </p>
            </div>
          </div>
        </a>
      </div>

      <!-- Promotion Slider Section -->
      <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8">
        <h2 class="text-2xl font-bold text-center mb-6">School Promotions</h2>
        <div class="relative overflow-hidden rounded-xl">
          <div
            class="slider-container flex transition-transform duration-500"
            id="slider"
          >
            <div class="slide flex-shrink-0 w-full">
              <div
                class="w-full h-64 bg-gradient-to-r from-blue-400 to-purple-500 rounded-xl flex items-center justify-center"
              >
                <div class="text-center text-white">
                  <div class="text-6xl mb-4">üéØ</div>
                  <h3 class="text-xl font-semibold">
                    Early Detection Saves Time
                  </h3>
                </div>
              </div>
              <div class="p-4 text-center">
                <h3 class="text-xl font-semibold">
                  Early Detection Saves Time
                </h3>
                <p class="text-gray-600 dark:text-gray-300">
                  Identify learning difficulties early to provide timely support
                  and interventions.
                </p>
              </div>
            </div>
            <div class="slide flex-shrink-0 w-full">
              <div
                class="w-full h-64 bg-gradient-to-r from-green-400 to-blue-500 rounded-xl flex items-center justify-center"
              >
                <div class="text-center text-white">
                  <div class="text-6xl mb-4">üöÄ</div>
                  <h3 class="text-xl font-semibold">
                    Empower Your Learning Journey
                  </h3>
                </div>
              </div>
              <div class="p-4 text-center">
                <h3 class="text-xl font-semibold">
                  Empower Your Learning Journey
                </h3>
                <p class="text-gray-600 dark:text-gray-300">
                  Comprehensive tools to support students with dyslexia,
                  dyscalculia, and memory challenges.
                </p>
              </div>
            </div>
            <div class="slide flex-shrink-0 w-full">
              <div
                class="w-full h-64 bg-gradient-to-r from-purple-400 to-pink-500 rounded-xl flex items-center justify-center"
              >
                <div class="text-center text-white">
                  <div class="text-6xl mb-4">üî¨</div>
                  <h3 class="text-xl font-semibold">
                    Professional Screening Tools
                  </h3>
                </div>
              </div>
              <div class="p-4 text-center">
                <h3 class="text-xl font-semibold">
                  Professional Screening Tools
                </h3>
                <p class="text-gray-600 dark:text-gray-300">
                  Evidence-based assessments designed by experts in learning
                  disabilities.
                </p>
              </div>
            </div>
          </div>
          <button
            class="prev absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-white/20"
            onclick="prevSlide()"
            aria-label="Previous slide"
            tabindex="0"
          >
            ‚ùÆ
          </button>
          <button
            class="next absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-white/20"
            onclick="nextSlide()"
            aria-label="Next slide"
            tabindex="0"
          >
            ‚ùØ
          </button>

          <!-- Slide indicators for accessibility -->
          <div
            class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2"
            role="tablist"
            aria-label="Slide indicators"
          >
            <button
              class="w-3 h-3 rounded-full bg-white/50 hover:bg-white/70 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white/50"
              onclick="goToSlide(0)"
              aria-label="Go to slide 1"
              tabindex="0"
            ></button>
            <button
              class="w-3 h-3 rounded-full bg-white/30 hover:bg-white/70 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white/50"
              onclick="goToSlide(1)"
              aria-label="Go to slide 2"
              tabindex="0"
            ></button>
            <button
              class="w-3 h-3 rounded-full bg-white/30 hover:bg-white/70 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white/50"
              onclick="goToSlide(2)"
              aria-label="Go to slide 3"
              tabindex="0"
            ></button>
          </div>
        </div>
      </div>

      <!-- About Us Section -->
      <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8">
        <h2 class="text-2xl font-bold text-center mb-6">About Us</h2>
        <div class="max-w-4xl mx-auto text-center space-y-4">
          <p class="text-lg text-gray-600 dark:text-gray-300 leading-relaxed">
            We are dedicated to providing accessible and accurate screening
            tools for learning disabilities. Our platform helps educators,
            parents, and individuals identify potential learning challenges
            early, enabling timely interventions and personalized support
            strategies.
          </p>
          <p class="text-gray-600 dark:text-gray-300 leading-relaxed">
            Through evidence-based assessments for dyslexia, dyscalculia, and
            memory difficulties, we empower schools and families to create
            inclusive learning environments where every student can thrive.
          </p>
          <div class="flex justify-center gap-4 mt-6">
            <div class="text-center">
              <div
                class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-2"
              >
                <span class="text-2xl">üéì</span>
              </div>
              <p class="text-sm font-medium">Expert Designed</p>
            </div>
            <div class="text-center">
              <div
                class="w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-2"
              >
                <span class="text-2xl">üî¨</span>
              </div>
              <p class="text-sm font-medium">Research Based</p>
            </div>
            <div class="text-center">
              <div
                class="w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center mx-auto mb-2"
              >
                <span class="text-2xl">ü§ù</span>
              </div>
              <p class="text-sm font-medium">Inclusive Support</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slider functionality script -->
    <script>
      let currentSlide = 0;
      const slides = document.querySelectorAll(".slide");
      const totalSlides = slides.length;
      const indicators = document.querySelectorAll('[role="tablist"] button');
      let autoSlideInterval;

      function showSlide(index) {
        const slider = document.getElementById("slider");
        slider.style.transform = `translateX(-${index * 100}%)`;

        // Update indicators
        indicators.forEach((indicator, i) => {
          if (i === index) {
            indicator.classList.remove("bg-white/30");
            indicator.classList.add("bg-white/50");
            indicator.setAttribute("aria-selected", "true");
          } else {
            indicator.classList.remove("bg-white/50");
            indicator.classList.add("bg-white/30");
            indicator.setAttribute("aria-selected", "false");
          }
        });
      }

      function nextSlide() {
        currentSlide = (currentSlide + 1) % totalSlides;
        showSlide(currentSlide);
      }

      function prevSlide() {
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        showSlide(currentSlide);
      }

      function goToSlide(index) {
        currentSlide = index;
        showSlide(currentSlide);
        resetAutoSlide();
      }

      function resetAutoSlide() {
        clearInterval(autoSlideInterval);
        autoSlideInterval = setInterval(nextSlide, 5000);
      }

      // Keyboard navigation
      document.addEventListener("keydown", function (e) {
        const sliderContainer = document.querySelector(".slider-container");
        if (!sliderContainer.contains(document.activeElement)) return;

        if (e.key === "ArrowLeft") {
          e.preventDefault();
          prevSlide();
          resetAutoSlide();
        } else if (e.key === "ArrowRight") {
          e.preventDefault();
          nextSlide();
          resetAutoSlide();
        }
      });

      // Pause auto-slide on hover
      const sliderContainer = document.querySelector(
        ".relative.overflow-hidden"
      );
      sliderContainer.addEventListener("mouseenter", () => {
        clearInterval(autoSlideInterval);
      });

      sliderContainer.addEventListener("mouseleave", () => {
        autoSlideInterval = setInterval(nextSlide, 5000);
      });

      // Initialize
      showSlide(0);
      autoSlideInterval = setInterval(nextSlide, 5000);
    </script>

    <!-- Enhanced theme toggle script -->
    <script>
      function toggleTheme() {
        document.documentElement.classList.toggle("dark");
        document.documentElement.dataset.theme =
          document.documentElement.classList.contains("dark")
            ? "dark"
            : "light";
        localStorage.setItem("theme", document.documentElement.dataset.theme);
      }

      // Load saved theme
      if (localStorage.getItem("theme") === "dark") {
        document.documentElement.classList.add("dark");
        document.documentElement.dataset.theme = "dark";
      }
    </script>
  </body>
</html>
